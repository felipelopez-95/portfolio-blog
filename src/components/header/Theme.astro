---
import darkMode from "../../assets/theme/mode-dark.svg";
import lightMode from "../../assets/theme/mode-light.svg";
---

<button id="themeToggle" class="nav-mode-img">
    <img
        src={darkMode.src}
        alt="Dark Mode"
        class="theme-icon-dark"
        width="24"
        height="24"
    />
    <img
        src={lightMode.src}
        alt="Light Mode"
        class="theme-icon-light"
        width="24"
        height="24"
    />
</button>

<style>
    .nav-mode-img {
        display: flex;
        align-items: center;
        justify-content: center;
        background: transparent;
        border: none;
        padding: 0;
        cursor: pointer;
    }

    .theme-icon-dark {
        display: none;
    }

    .theme-icon-light {
        display: block;
    }

    :global(html.dark) .theme-icon-dark {
        display: block;
    }

    :global(html.dark) .theme-icon-light {
        display: none;
    }
</style>

<script is:inline>
    const handleToggleClick = () => {
        const element = document.documentElement;
        element.classList.toggle("dark");

        const isDark = element.classList.contains("dark");
        localStorage.setItem("theme", isDark ? "dark" : "light");
    };

    document
        .getElementById("themeToggle")
        ?.addEventListener("click", handleToggleClick);
</script>
